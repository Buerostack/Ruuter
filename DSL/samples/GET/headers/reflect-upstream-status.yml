call_upstream:
  call: http.get
  args:
    url: http://localhost:8080/samples/ping
  result: ping_response

define_output:
  assign:
    output:
      upstreamStatus: ${ping_response.response.statusCodeValue}
      upstreamBody: ${ping_response.response.body.response}

response:
  status: 201
  headers:
    X-Upstream-Status: ${ping_response.response.headers.XPingStatusHeader}
  return: ${output}
  next: end